gsap.registerPlugin(ScrollTrigger), gsap.defaults({ ease: "power1.inOut", duration: .8 }); const isMobile = window.innerWidth <= 768, reduceMotion = window.matchMedia("(prefers-reduced-motion: reduce)").matches, animConfig = { mobile: { scrubValue: 1.2, staggers: .06, durations: .4, disableParallax: !0 }, desktop: { scrubValue: .7, staggers: .08, durations: .6, disableParallax: !1 } }, config = isMobile ? animConfig.mobile : animConfig.desktop; function createScrollAnimation(t, e, o = {}) { let r = { opacity: 0, duration: config.durations, ease: "none", willChange: "transform, opacity" }; return gsap.from(t, { scrollTrigger: { trigger: e, start: o.start || "top 80%", end: o.end || "top 35%", scrub: void 0 !== o.scrub ? o.scrub : config.scrubValue, markers: !1, once: !1, fastScrollEnd: !0 }, ...r, ...o.from }) } function createStaggerAnimation(t, e, o = {}) { let r = { duration: config.durations, stagger: o.stagger || config.staggers, ease: "back.out(1.5)", willChange: "transform, opacity" }; return gsap.from(t, { scrollTrigger: { trigger: e, start: o.start || "top 75%", toggleActions: o.toggleActions || "play none none reverse" }, ...r, ...o.from }) } function killAllAnimations() { gsap.killTweensOf("*"), ScrollTrigger.getAll().forEach(t => t.kill()) } function setupParallaxAnimations() { killAllAnimations(), createScrollAnimation(".news-title span", "#news", { from: { opacity: 0, y: 50, scale: .95 } }), createScrollAnimation(".news-title h2", "#news", { start: "top 85%", end: "top 35%", from: { opacity: 0, y: 70, scale: .9 } }), !config.disableParallax && (isMobile || createScrollAnimation(".about__pic", "#news", { start: "top 75%", end: "top 20%", from: { opacity: 0, x: -100, y: 40, scale: .9 } })), gsap.timeline({ scrollTrigger: { trigger: "#news", start: "top 65%", toggleActions: "play none none reverse" } }).from(".news__item__icon", { scale: 0, opacity: 0, duration: .8, ease: "back.out(1.5)", stagger: config.staggers }, 0).from(".news__subtitle", { opacity: 0, x: 40, duration: config.durations, stagger: config.staggers }, "-=0.6").from(".about__text__desc", { opacity: 0, y: 30, duration: config.durations, stagger: config.staggers }, "-=0.5"), createScrollAnimation("#resume .section-title", "#resume", { start: "top 80%", end: "top 35%", from: { opacity: 0, y: 80, scale: .9 } }), [{ selector: "#resume .col-lg-6:first-child", direction: -1 }, { selector: "#resume .col-lg-6:last-child", direction: 1 }].forEach(t => { let e = `${t.selector} .resume-title`, o = `${t.selector} .resume-item`; createScrollAnimation(e, "#resume", { start: "top 65%", end: "top 45%", from: { opacity: 0, x: 80 * t.direction, stagger: .15 } }), createStaggerAnimation(o, "#resume", { start: "top 65%", from: { opacity: 0, x: 60 * t.direction, y: 20, scale: .95 } }) }), createScrollAnimation(".team__title", ".team", { start: "top 75%", end: "top 35%", from: { opacity: 0, y: 80, scale: .9 } }), gsap.utils.toArray(".team__item").forEach((t, e) => { createScrollAnimation(t, t, { start: "top 80%", end: "top 50%", from: { opacity: 0, y: 60 + 10 * e, scale: .9 } }) }), createStaggerAnimation(".team__btn", ".team", { start: "top 50%", from: { opacity: 0, scale: .9, y: 20 } }), createScrollAnimation("#services .services__title", "#services", { start: "top 75%", end: "top 35%", from: { opacity: 0, x: -80, scale: .9 } }), gsap.utils.toArray("#services .services__item").forEach((t, e) => { let o = e % 2 == 0; createScrollAnimation(t, t, { start: "top 75%", end: "top 40%", from: { opacity: 0, y: 50 + (o ? 0 : 15), x: o ? -20 : 20, scale: .95 } }), gsap.from(t.querySelector(".services__item__icon"), { scrollTrigger: { trigger: t, start: "top 75%", toggleActions: "play none none reverse" }, scale: 0, rotation: 360, opacity: 0, duration: .8, ease: "back.out(1.5)", delay: .15, willChange: "transform, opacity" }) }), createScrollAnimation("#skills .section-title", "#skills", { start: "top 80%", end: "top 35%", from: { opacity: 0, y: 80, scale: .9 } }), gsap.utils.toArray(".skills-item").forEach((t, e) => { gsap.timeline({ scrollTrigger: { trigger: t, start: "top 80%", end: "top 30%", scrub: config.scrubValue, fastScrollEnd: !0 } }).fromTo(t, { opacity: 0, x: e % 2 == 0 ? -60 : 60, y: 60, scale: .9, willChange: "transform, opacity" }, { opacity: 1, x: 0, y: 0, scale: 1, ease: "none" }), gsap.from(t.querySelector(".skills-icon"), { scrollTrigger: { trigger: t, start: "top 75%", toggleActions: "play none none reverse" }, scale: 0, rotation: 360, opacity: 0, duration: .8, ease: "back.out(1.3)", delay: .2, willChange: "transform, opacity" }), gsap.fromTo(t.querySelectorAll(".tool"), { opacity: 0, scale: .9, y: 15 }, { scrollTrigger: { trigger: t, start: "top 70%", toggleActions: "play none none reverse" }, opacity: 1, scale: 1, y: 0, duration: .4, stagger: .06, delay: .35 }) }), createScrollAnimation("#projects .section-title", "#projects", { start: "top 80%", end: "top 35%", from: { opacity: 0, scale: .9, y: 80 } }), gsap.utils.toArray(".portfolio__item").forEach((t, e) => { createScrollAnimation(t, t, { start: "top 85%", end: "top 40%", from: { opacity: 0, y: 70 + 20 * Math.floor(e / 3), x: (e % 3 - 1) * 30, scale: .9 } }), isMobile || gsap.from(t.querySelector(".portfolio__item__image"), { scrollTrigger: { trigger: t, start: "top 80%", end: "top 40%", scrub: config.scrubValue, fastScrollEnd: !0 }, scale: 1.1, opacity: .7, ease: "none", willChange: "transform, opacity" }) }), createScrollAnimation("#contact .section-title", "#contact", { start: "top 80%", end: "top 40%", from: { opacity: 0, y: 80, scale: .9 } }), gsap.utils.toArray(".contact__widget__item").forEach((t, e) => { createScrollAnimation(t, "#contact", { start: "top 70%", end: "top 45%", from: { opacity: 0, x: -50 - 10 * e, y: 30, scale: .95 } }) }), gsap.timeline({ scrollTrigger: { trigger: "#contact", start: "top 70%", end: "top 40%", scrub: config.scrubValue, fastScrollEnd: !0 } }).from(".contact__form", { opacity: 0, x: 80, scale: .9, ease: "none", willChange: "transform, opacity" }), gsap.from("#send-message-button", { scrollTrigger: { trigger: ".contact__form", start: "top 65%", toggleActions: "play none none reverse" }, opacity: 0, scale: .8, y: 20, duration: .6, ease: "back.out(1.2)", delay: .3 }), isMobile || reduceMotion || gsap.utils.toArray(".ball").forEach((t, e) => { gsap.to(t, { scrollTrigger: { trigger: "body", start: "top top", end: "bottom bottom", scrub: .8, fastScrollEnd: !0 }, y: (e % 2 == 0 ? 250 : -250) * (1 + .15 * e), ease: "none", willChange: "transform" }), gsap.to(t, { x: "random(-40, 40)", rotation: "random(-15, 15)", scale: "random(0.85, 1.2)", duration: "random(5, 8)", repeat: -1, yoyo: !0, ease: "sine.inOut", delay: .3 * e }) }), ScrollTrigger.refresh() } document.addEventListener("DOMContentLoaded", () => { reduceMotion || setupParallaxAnimations() }); let resizeTimer; window.addEventListener("resize", () => { clearTimeout(resizeTimer), resizeTimer = setTimeout(() => { window.innerWidth <= 768 !== isMobile ? location.reload() : ScrollTrigger.refresh() }, 250) }), document.addEventListener("visibilitychange", () => { document.hidden ? gsap.globalTimeline.pause() : (gsap.globalTimeline.resume(), ScrollTrigger.refresh()) });